<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>리포트 결제 | 리서치아름</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/join.css">
</head>
<body>
    <section id="join-area">
        <section class="pay-report-area">
            <h2>리포트 결제</h2>
            <p class="sub">해당 리포트는 유료이며, 결제 후 확인하실 수 있습니다.</p>
            <form action="">
                <div class="report-info-area">
                    <div class="tit">에이치엔에스하이텍 (044990, KONEX)</div>
                    <div class="sub">국내 최초 IT/BT 융합 디지털 헬스 기업 유전체 분석 서비스로 신성장동력 확보</div>
                </div>
                <ul class="membership-check-list">
                    <li>
                        <input type="checkbox" checked disabled required id="checkbox-membership-default"><label for="checkbox-membership-default">
                            <div class="txt">
                                <span class="tit">리포트 결제</span>
                                <span class="price"><span class="num">10,000</span>원</span>
                            </div>
                        </label>
                    </li>
                </ul>
                <div class="guide">※ 해당 리포트 1건에 대한 결제이며, 마이페이지 결제내역에서 확인 하실 수 있습니다.</div>
                <table class="payment-info-area">
                    <caption>결제 내용</caption>
                    <tr>
                        <th>결제방법</th>
                        <td>
                            <input type="radio" name="check-payment-option" id="check-payment-option-01" class="checkbox-type-02" checked><label for="check-payment-option-01">카드 결제</label>
                            <input type="radio" name="check-payment-option" id="check-payment-option-02" class="checkbox-type-02"><label for="check-payment-option-02">휴대폰 결제</label>
                        </td>
                    </tr>
                </table>
                <div class="primary-btn-area">
                    <button type="button" title="메인 페이지로 이동" class="btn-gray" onclick="location.href='../index.html'">취소</button>
                    <button type="button" title="" class="btn-color" onclick="location.href='report-view.html'">결제하기</button>
                </div>
            </form>
        </section>
        <section class="guide-join-membership">
            <h2>멤버십 가입 안내</h2>
            <p class="sub">멤버십을 가입하시면 알음 리포트 무제한 열람을 하실 수 있습니다.</p>
            <div class="join-membership-area">
                <ul>
                    <li class="service-area">
                        <h3>제공서비스</h3>
                        <ol>
                            <li>알음리포트 무제한 열람
                                <ul>
                                    <li>매주 발간되는 리서치알음 정기보고서 열람</li>
                                </ul>
                            </li>
                            <li>알음 텔레그램 실시간 자료 제공
                                <ul>
                                    <li>실시간 시황점검</li>
                                </ul>
                            </li>
                            <li>커버종목 이슈 코멘트 제공</li>
                        </ol>
                    </li>
                    <li class="guidance-area">
                        <h3>안내사항</h3>
                        <ul>
                            <li>알음 빅데이터 열람 서비스와 텔레그램 서비스 신청은 멤버십만 가능합니다.</li>
                            <li>멤버십 가입과 동시에 가입이 가능합니다.</li>
                            <li>멤버십 구독, 빅데이터 텔레그램 서비스는 매월 결제가 자동으로 진행 됩니다.</li>
                            <li>빅데이터 열람 서비스는 1회 결제로 무제한 열람이 가능합니다.</li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="primary-btn-area">
                <button type="button" title="페이지 이동" class="btn-color" onclick="location.href='join-membership.html'">멤버십 가입하기</button>
            </div>
        </section>
    </section>

<script src="../js/common.js"></script>
<script>
(function(){
    const membershipCheck = document.querySelectorAll('.membership-check-list input');

    setTotalMembershipPay(membershipCheck);
    membershipCheck.forEach(check => {
        check.addEventListener('change', function(e){
            setTotalMembershipPay(membershipCheck);
        });
    });

    function setTotalMembershipPay(list){
        const elTotal = document.querySelector('.payment-info-area .total .num');
        let total = 0;

        membershipCheck.forEach(list => {
            let num = list.nextSibling.querySelector('.num').innerHTML;
            num = num.replace(',','');
            if(list.checked){
                total += Number(num);
            }
        });

        const result = total.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",");
        elTotal.textContent = result;
    }
}())
</script>
</body>
</html>